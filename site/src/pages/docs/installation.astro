---
import DocsLayout from '../../layouts/DocsLayout.astro'
import CodeBlock from '../../components/CodeBlock.astro'
import Callout from '../../components/Callout.astro'
---

<DocsLayout title="Installation">
  <div class="space-y-8">
    <div>
      <h1 class="text-3xl font-bold text-white light:text-gray-900">Installation</h1>
      <p class="mt-4 text-lg text-zinc-400 light:text-gray-600">
        Detailed instructions for installing Checkend on your infrastructure.
      </p>
    </div>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Prerequisites</h2>
      <p class="text-zinc-300 light:text-gray-600">
        Before installing Checkend, make sure you have the following:
      </p>
      <ul class="mt-4 space-y-2 text-zinc-300 light:text-gray-600">
        <li class="flex items-start gap-3">
          <span class="mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-violet-400"></span>
          <span><strong class="text-white light:text-gray-900">Ruby 3.3+</strong> — Checkend is built with Ruby on Rails</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-violet-400"></span>
          <span><strong class="text-white light:text-gray-900">PostgreSQL 14+</strong> — Used for the primary database</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-violet-400"></span>
          <span><strong class="text-white light:text-gray-900">Node.js 20+</strong> — Required for asset compilation</span>
        </li>
      </ul>
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Clone the repository</h2>
      <CodeBlock title="Terminal" code={`git clone https://github.com/furvur/checkend.git
cd checkend`} />
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Install dependencies</h2>
      <CodeBlock title="Terminal" code="bundle install" />
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Configure environment</h2>
      <p class="text-zinc-300 light:text-gray-600">
        Copy the example environment file and configure your settings:
      </p>
      <CodeBlock title="Terminal" code="cp .env.example .env" />
      <p class="text-zinc-300 light:text-gray-600">
        Edit <code class="rounded bg-zinc-800 px-1.5 py-0.5 text-violet-400 light:bg-gray-100 light:text-violet-600">.env</code> and set your database credentials and other configuration options.
      </p>
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Set up the database</h2>
      <p class="text-zinc-300 light:text-gray-600">
        Create the database and run migrations:
      </p>
      <CodeBlock title="Terminal" code="bin/rails db:setup" />
      <Callout type="info">
        In production, Checkend uses separate databases for the cache, queue, and cable. See the
        <a href="/docs/configuration" class="text-violet-400 hover:text-violet-300 underline">configuration guide</a>
        for details.
      </Callout>
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Start the server</h2>
      <p class="text-zinc-300 light:text-gray-600">
        For development:
      </p>
      <CodeBlock title="Terminal" code="bin/dev" />
      <p class="text-zinc-300 light:text-gray-600">
        This starts Rails and the Tailwind CSS watcher. Visit <code class="rounded bg-zinc-800 px-1.5 py-0.5 text-violet-400 light:bg-gray-100 light:text-violet-600">http://localhost:3000</code> to access Checkend.
      </p>
    </section>

    <section class="space-y-4">
      <h2 class="text-xl font-semibold text-white light:text-gray-900">Run tests</h2>
      <p class="text-zinc-300 light:text-gray-600">
        Verify your installation by running the test suite:
      </p>
      <CodeBlock title="Terminal" code="bin/rails test" />
    </section>

    <!-- Next steps -->
    <div class="border-t border-zinc-800 pt-8 light:border-gray-200">
      <h2 class="text-lg font-semibold text-white light:text-gray-900">Next steps</h2>
      <div class="mt-4 grid gap-3">
        <a href="/docs/configuration" class="flex items-center gap-2 text-violet-400 hover:text-violet-300 light:text-violet-600 light:hover:text-violet-700">
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          Configure Checkend
        </a>
        <a href="/docs/deployment" class="flex items-center gap-2 text-violet-400 hover:text-violet-300 light:text-violet-600 light:hover:text-violet-700">
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          Deploy to production
        </a>
      </div>
    </div>
  </div>
</DocsLayout>
